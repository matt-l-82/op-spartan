var give_ffm_frontend;!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t,i=navigator.userAgent,s=/iphone/i.test(i),n=/chrome/i.test(i),a=/android/i.test(i);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var i;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((i=this.createTextRange()).collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),e=0-i.duplicate().moveStart("character",-1e5),t=e+i.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(i,r){var o,l,c,d,u,m,f;if(!i&&this.length>0){var h=e(this[0]).data(e.mask.dataName);return h?h():void 0}return r=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},r),o=e.mask.definitions,l=[],c=m=i.length,d=null,e.each(i.split(""),function(e,t){"?"==t?(m--,c=e):o[t]?(l.push(new RegExp(o[t])),null===d&&(d=l.length-1),c>e&&(u=l.length-1)):l.push(null)}),this.trigger("unmask").each(function(){function h(){if(r.completed){for(var e=d;u>=e;e++)if(l[e]&&x[e]===p(e))return;r.completed.call(y)}}function p(e){return r.placeholder.charAt(e<r.placeholder.length?e:0)}function _(e){for(;++e<m&&!l[e];);return e}function g(e,t){var i,s;if(!(0>e)){for(i=e,s=_(t);m>i;i++)if(l[i]){if(!(m>s&&l[i].test(x[s])))break;x[i]=x[s],x[s]=p(s),s=_(s)}b(),y.caret(Math.max(d,e))}}function v(){M(),y.val()!=$&&y.change()}function k(e,t){var i;for(i=e;t>i&&m>i;i++)l[i]&&(x[i]=p(i))}function b(){y.val(x.join(""))}function M(e){var t,i,s,n=y.val(),a=-1;for(t=0,s=0;m>t;t++)if(l[t]){for(x[t]=p(t);s++<n.length;)if(i=n.charAt(s-1),l[t].test(i)){x[t]=i,a=t;break}if(s>n.length){k(t+1,m);break}}else x[t]===n.charAt(s)&&s++,c>t&&(a=t);return e?b():c>a+1?r.autoclear||x.join("")===T?(y.val()&&y.val(""),k(0,m)):b():(b(),y.val(y.val().substring(0,a+1))),c?t:d}var y=e(this),x=e.map(i.split(""),function(e,t){return"?"!=e?o[e]?p(t):e:void 0}),T=x.join(""),$=y.val();y.data(e.mask.dataName,function(){return e.map(x,function(e,t){return l[t]&&e!=p(t)?e:null}).join("")}),y.one("unmask",function(){y.off(".mask").removeData(e.mask.dataName)}).on("focus.mask",function(){var e;y.prop("readonly")||(clearTimeout(t),$=y.val(),e=M(),t=setTimeout(function(){y.get(0)===document.activeElement&&(b(),e==i.replace("?","").length?y.caret(0,e):y.caret(e))},10))}).on("blur.mask",v).on("keydown.mask",function(e){if(!y.prop("readonly")){var t,i,n,a=e.which||e.keyCode;f=y.val(),8===a||46===a||s&&127===a?(i=(t=y.caret()).begin,(n=t.end)-i==0&&(i=46!==a?function(e){for(;--e>=0&&!l[e];);return e}(i):n=_(i-1),n=46===a?_(n):n),k(i,n),g(i,n-1),e.preventDefault()):13===a?v.call(this,e):27===a&&(y.val($),y.caret(0,M()),e.preventDefault())}}).on("keypress.mask",function(t){if(!y.prop("readonly")){var i,s,n,r=t.which||t.keyCode,o=y.caret();t.ctrlKey||t.altKey||t.metaKey||32>r||!r||13===r||(o.end-o.begin!=0&&(k(o.begin,o.end),g(o.begin,o.end-1)),i=_(o.begin-1),m>i&&(s=String.fromCharCode(r),l[i].test(s))&&(function(e){var t,i,s,n;for(t=e,i=p(e);m>t;t++)if(l[t]){if(s=_(t),n=x[t],x[t]=i,!(m>s&&l[s].test(n)))break;i=n}}(i),x[i]=s,b(),n=_(i),a?setTimeout(function(){e.proxy(e.fn.caret,y,n)()},0):y.caret(n),o.begin<=u&&h()),t.preventDefault())}}).on("input.mask paste.mask",function(){y.prop("readonly")||setTimeout(function(){var e=M(!0);y.caret(e),h()},0)}),n&&a&&y.off("input.mask").on("input.mask",function(){var e=y.val(),t=y.caret();if(f&&f.length&&f.length>e.length){for(M(!0);t.begin>0&&!l[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<d&&!l[t.begin];)t.begin++;y.caret(t.begin,t.begin)}else{for(M(!0);t.begin<m&&!l[t.begin];)t.begin++;y.caret(t.begin,t.begin)}h()}),M()})}})}),function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var i=!1,s=this;e(this).one("bsTransitionEnd",function(){i=!0});return setTimeout(function(){i||e(s).trigger(e.support.transition.end)},t),this},e(function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(){"use strict";function e(e){e.fn._fadeIn=e.fn.fadeIn;var t=e.noop||function(){},i=/MSIE/.test(navigator.userAgent),s=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),n=(document.documentMode,e.isFunction(document.createElement("div").style.setExpression));e.blockUI=function(e){o(window,e)},e.unblockUI=function(e){l(window,e)},e.growlUI=function(t,i,s,n){var a=e('<div class="growlUI"></div>');t&&a.append("<h1>"+t+"</h1>"),i&&a.append("<h2>"+i+"</h2>"),void 0===s&&(s=3e3);var r=function(t){t=t||{},e.blockUI({message:a,fadeIn:void 0!==t.fadeIn?t.fadeIn:700,fadeOut:void 0!==t.fadeOut?t.fadeOut:1e3,timeout:void 0!==t.timeout?t.timeout:s,centerY:!1,showOverlay:!1,onUnblock:n,css:e.blockUI.defaults.growlCSS})};r();a.css("opacity");a.mouseover(function(){r({fadeIn:0,timeout:3e4});var t=e(".blockMsg");t.stop(),t.fadeTo(300,1)}).mouseout(function(){e(".blockMsg").fadeOut(1e3)})},e.fn.block=function(t){if(this[0]===window)return e.blockUI(t),this;var i=e.extend({},e.blockUI.defaults,t||{});return this.each(function(){var t=e(this);i.ignoreIfBlocked&&t.data("blockUI.isBlocked")||t.unblock({fadeOut:0})}),this.each(function(){"static"==e.css(this,"position")&&(this.style.position="relative",e(this).data("blockUI.static",!0)),this.style.zoom=1,o(this,t)})},e.fn.unblock=function(t){return this[0]===window?(e.unblockUI(t),this):this.each(function(){l(this,t)})},e.blockUI.version=2.7,e.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var a=null,r=[];function o(o,c){var u,h,p=o==window,_=c&&void 0!==c.message?c.message:void 0;if(!(c=e.extend({},e.blockUI.defaults,c||{})).ignoreIfBlocked||!e(o).data("blockUI.isBlocked")){if(c.overlayCSS=e.extend({},e.blockUI.defaults.overlayCSS,c.overlayCSS||{}),u=e.extend({},e.blockUI.defaults.css,c.css||{}),c.onOverlayClick&&(c.overlayCSS.cursor="pointer"),h=e.extend({},e.blockUI.defaults.themedCSS,c.themedCSS||{}),_=void 0===_?c.message:_,p&&a&&l(window,{fadeOut:0}),_&&"string"!=typeof _&&(_.parentNode||_.jquery)){var g=_.jquery?_[0]:_,v={};e(o).data("blockUI.history",v),v.el=g,v.parent=g.parentNode,v.display=g.style.display,v.position=g.style.position,v.parent&&v.parent.removeChild(g)}e(o).data("blockUI.onUnblock",c.onUnblock);var k,b,M,y,x=c.baseZ;k=i||c.forceIframe?e('<iframe class="blockUI" style="z-index:'+x+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+c.iframeSrc+'"></iframe>'):e('<div class="blockUI" style="display:none"></div>'),b=c.theme?e('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+x+++';display:none"></div>'):e('<div class="blockUI blockOverlay" style="z-index:'+x+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),c.theme&&p?(y='<div class="blockUI '+c.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(x+10)+';display:none;position:fixed">',c.title&&(y+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(c.title||"&nbsp;")+"</div>"),y+='<div class="ui-widget-content ui-dialog-content"></div>',y+="</div>"):c.theme?(y='<div class="blockUI '+c.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(x+10)+';display:none;position:absolute">',c.title&&(y+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(c.title||"&nbsp;")+"</div>"),y+='<div class="ui-widget-content ui-dialog-content"></div>',y+="</div>"):y=p?'<div class="blockUI '+c.blockMsgClass+' blockPage" style="z-index:'+(x+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+c.blockMsgClass+' blockElement" style="z-index:'+(x+10)+';display:none;position:absolute"></div>',M=e(y),_&&(c.theme?(M.css(h),M.addClass("ui-widget-content")):M.css(u)),c.theme||b.css(c.overlayCSS),b.css("position",p?"fixed":"absolute"),(i||c.forceIframe)&&k.css("opacity",0);var T=[k,b,M],$=e(p?"body":o);e.each(T,function(){this.appendTo($)}),c.theme&&c.draggable&&e.fn.draggable&&M.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var D=n&&(!e.support.boxModel||e("object,embed",p?null:o).length>0);if(s||D){if(p&&c.allowBodyStretch&&e.support.boxModel&&e("html,body").css("height","100%"),(s||!e.support.boxModel)&&!p)var w=f(o,"borderTopWidth"),O=f(o,"borderLeftWidth"),I=w?"(0 - "+w+")":0,S=O?"(0 - "+O+")":0;e.each(T,function(e,t){var i=t[0].style;if(i.position="absolute",e<2)p?i.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+c.quirksmodeOffsetHack+') + "px"'):i.setExpression("height",'this.parentNode.offsetHeight + "px"'),p?i.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):i.setExpression("width",'this.parentNode.offsetWidth + "px"'),S&&i.setExpression("left",S),I&&i.setExpression("top",I);else if(c.centerY)p&&i.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),i.marginTop=0;else if(!c.centerY&&p){var s="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+(c.css&&c.css.top?parseInt(c.css.top,10):0)+') + "px"';i.setExpression("top",s)}})}if(_&&(c.theme?M.find(".ui-widget-content").append(_):M.append(_),(_.jquery||_.nodeType)&&e(_).show()),(i||c.forceIframe)&&c.showOverlay&&k.show(),c.fadeIn){var z=c.onBlock?c.onBlock:t,C=c.showOverlay&&!_?z:t,F=_?z:t;c.showOverlay&&b._fadeIn(c.fadeIn,C),_&&M._fadeIn(c.fadeIn,F)}else c.showOverlay&&b.show(),_&&M.show(),c.onBlock&&c.onBlock.bind(M)();if(d(1,o,c),p?(a=M[0],r=e(c.focusableElements,a),c.focusInput&&setTimeout(m,20)):function(e,t,i){var s=e.parentNode,n=e.style,a=(s.offsetWidth-e.offsetWidth)/2-f(s,"borderLeftWidth"),r=(s.offsetHeight-e.offsetHeight)/2-f(s,"borderTopWidth");t&&(n.left=a>0?a+"px":"0");i&&(n.top=r>0?r+"px":"0")}(M[0],c.centerX,c.centerY),c.timeout){var j=setTimeout(function(){p?e.unblockUI(c):e(o).unblock(c)},c.timeout);e(o).data("blockUI.timeout",j)}}}function l(t,i){var s,n,o=t==window,l=e(t),u=l.data("blockUI.history"),m=l.data("blockUI.timeout");m&&(clearTimeout(m),l.removeData("blockUI.timeout")),i=e.extend({},e.blockUI.defaults,i||{}),d(0,t,i),null===i.onUnblock&&(i.onUnblock=l.data("blockUI.onUnblock"),l.removeData("blockUI.onUnblock")),n=o?e("body").children().filter(".blockUI").add("body > .blockUI"):l.find(">.blockUI"),i.cursorReset&&(n.length>1&&(n[1].style.cursor=i.cursorReset),n.length>2&&(n[2].style.cursor=i.cursorReset)),o&&(a=r=null),i.fadeOut?(s=n.length,n.stop().fadeOut(i.fadeOut,function(){0==--s&&c(n,u,i,t)})):c(n,u,i,t)}function c(t,i,s,n){var a=e(n);if(!a.data("blockUI.isBlocked")){t.each(function(e,t){this.parentNode&&this.parentNode.removeChild(this)}),i&&i.el&&(i.el.style.display=i.display,i.el.style.position=i.position,i.el.style.cursor="default",i.parent&&i.parent.appendChild(i.el),a.removeData("blockUI.history")),a.data("blockUI.static")&&a.css("position","static"),"function"==typeof s.onUnblock&&s.onUnblock(n,s);var r=e(document.body),o=r.width(),l=r[0].style.width;r.width(o-1).width(o),r[0].style.width=l}}function d(t,i,s){var n=i==window,r=e(i);if((t||(!n||a)&&(n||r.data("blockUI.isBlocked")))&&(r.data("blockUI.isBlocked",t),n&&s.bindEvents&&(!t||s.showOverlay))){var o="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";t?e(document).bind(o,s,u):e(document).unbind(o,u)}}function u(t){if("keydown"===t.type&&t.keyCode&&9==t.keyCode&&a&&t.data.constrainTabKey){var i=r,s=!t.shiftKey&&t.target===i[i.length-1],n=t.shiftKey&&t.target===i[0];if(s||n)return setTimeout(function(){m(n)},10),!1}var o=t.data,l=e(t.target);return l.hasClass("blockOverlay")&&o.onOverlayClick&&o.onOverlayClick(t),l.parents("div."+o.blockMsgClass).length>0||0===l.parents().children().filter("div.blockUI").length}function m(e){if(r){var t=r[!0===e?r.length-1:0];t&&t.focus()}}function f(t,i){return parseInt(e.css(t,i),10)||0}}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}(),function(e){"use strict";var t=function(i,s){this.$element=e(i),this.options=e.extend({},t.DEFAULTS,s),this.$trigger=e('[data-toggle="collapse"][href="#'+i.id+'"],[data-toggle="collapse"][data-target="#'+i.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function i(t){var i,s=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return e(s)}function s(i){return this.each(function(){var s=e(this),n=s.data("bs.collapse"),a=e.extend({},t.DEFAULTS,s.data(),"object"==typeof i&&i);!n&&a.toggle&&/show|hide/.test(i)&&(a.toggle=!1),n||s.data("bs.collapse",n=new t(this,a)),"string"==typeof i&&n[i]()})}t.VERSION="3.3.5",t.TRANSITION_DURATION=350,t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},t.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var i,n=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(n&&n.length&&(i=n.data("bs.collapse"))&&i.transitioning)){var a=e.Event("show.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){n&&n.length&&(s.call(n,"hide"),i||n.data("bs.collapse",null));var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return o.call(this);var l=e.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[r](this.$element[0][l])}}}},t.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var i=e.Event("hide.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){var s=this.dimension();this.$element[s](this.$element[s]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return n.call(this);this.$element[s](0).one("bsTransitionEnd",e.proxy(n,this)).emulateTransitionEnd(t.TRANSITION_DURATION)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},t.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(t,s){var n=e(s);this.addAriaAndCollapsedClass(i(n),n)},this)).end()},t.prototype.addAriaAndCollapsedClass=function(e,t){var i=e.hasClass("in");e.attr("aria-expanded",i),t.toggleClass("collapsed",!i).attr("aria-expanded",i)};var n=e.fn.collapse;e.fn.collapse=s,e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var n=e(this);n.attr("data-target")||t.preventDefault();var a=i(n),r=a.data("bs.collapse")?"toggle":n.data();s.call(a,r)})}(jQuery),function(e){window.Give_FFM_Uploader=function(t,i,s,n,a,r){this.container=i,this.browse_button=t,this.max=s||1,this.count=e("#"+i).find(".ffm-attachment-list > li").length,e("#"+t).length&&(this.uploader=new plupload.Uploader({runtimes:"html5,html4",browse_button:t,container:i,multipart:!0,multipart_params:{action:"ffm_file_upload"},multiple_queues:!1,multi_selection:!1,urlstream_upload:!0,file_data_name:"ffm_file",max_file_size:r+"kb",url:give_ffm_frontend.plupload.url+"&type="+n,flash_swf_url:give_ffm_frontend.flash_swf_url,filters:[{title:"Allowed Files",extensions:a}]}),this.uploader.bind("Init",e.proxy(this,"init")),this.uploader.bind("FilesAdded",e.proxy(this,"added")),this.uploader.bind("QueueChanged",e.proxy(this,"upload")),this.uploader.bind("UploadProgress",e.proxy(this,"progress")),this.uploader.bind("Error",e.proxy(this,"error")),this.uploader.bind("FileUploaded",e.proxy(this,"uploaded")),this.uploader.init(),e("#"+i).on("click","a.attachment-delete",e.proxy(this.removeAttachment,this)))},Give_FFM_Uploader.prototype={init:function(e,t){this.showHide()},showHide:function(){this.count>=this.max?e("#"+this.container).find(".file-selector").hide():e("#"+this.container).find(".file-selector").show()},added:function(t,i){var s=e("#"+this.container).find(".ffm-attachment-upload-filelist");this.count+=1,this.showHide(),e.each(i,function(e,t){s.append('<div class="upload-item" id="'+t.id+'"><div class="progress progress-striped active"><div class="bar"></div></div><div class="filename original">'+t.name+" ("+plupload.formatSize(t.size)+") <b></b></div></div>")}),t.refresh(),t.start()},upload:function(e){this.uploader.start()},progress:function(t,i){var s=e("#"+i.id);e(".bar",s).css({width:i.percent+"%"}),e(".percent",s).html(i.percent+"%")},error:function(t,i){e("#"+this.container).find("#"+i.file.id).remove(),alert("Error #"+i.code+": "+i.message),this.count-=1,this.showHide(),this.uploader.refresh()},uploaded:function(t,i,s){(e("#"+i.id+" b").html("100%"),e("#"+i.id).remove(),"error"!==s.response)?e("#"+this.container).find(".ffm-attachment-list").append(s.response):(alert(res.error),this.count-=1,this.showHide())},removeAttachment:function(t){t.preventDefault();var i=this,s=e(t.currentTarget);if(confirm(give_ffm_frontend.confirmMsg)){var n={attach_id:s.data("attach_id"),nonce:give_ffm_frontend.nonce,action:"ffm_file_del"};jQuery.post(give_ffm_frontend.ajaxurl,n,function(){s.parent().parent().remove(),i.count-=1,i.showHide(),i.uploader.refresh()})}}}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery","jquery-ui"],e):e(jQuery)}(function($){if($.ui.timepicker=$.ui.timepicker||{},!$.ui.timepicker.version){$.extend($.ui,{timepicker:{version:"1.6.3"}});var Timepicker=function(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",microsecText:"Microsecond",timezoneText:"Time Zone",isRTL:!1},this._defaults={showButtonPanel:!0,timeOnly:!1,timeOnlyShowDate:!1,showHour:null,showMinute:null,showSecond:null,showMillisec:null,showMicrosec:null,showTimezone:null,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,stepMicrosec:1,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,microsecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,microsecMax:999,minDateTime:null,maxDateTime:null,maxTime:null,minTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,microsecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,altRedirectFocus:!0,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",oneLine:!1,defaultValue:null,parse:"strict",afterInject:null},$.extend(this._defaults,this.regional[""])};$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,microsec_slider:null,timezone_select:null,maxTime:null,minTime:null,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,microsecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,microsecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec","microsec"],support:{},control:null,setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_newInst:function($input,opts){var tp_inst=new Timepicker,inlineSettings={},fns={},overrides,i;for(var attrName in this._defaults)if(this._defaults.hasOwnProperty(attrName)){var attrValue=$input.attr("time:"+attrName);if(attrValue)try{inlineSettings[attrName]=eval(attrValue)}catch(e){inlineSettings[attrName]=attrValue}}for(i in overrides={beforeShow:function(e,t){if($.isFunction(tp_inst._defaults.evnts.beforeShow))return tp_inst._defaults.evnts.beforeShow.call($input[0],e,t,tp_inst)},onChangeMonthYear:function(e,t,i){$.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)&&tp_inst._defaults.evnts.onChangeMonthYear.call($input[0],e,t,i,tp_inst)},onClose:function(e,t){!0===tp_inst.timeDefined&&""!==$input.val()&&tp_inst._updateDateTime(t),$.isFunction(tp_inst._defaults.evnts.onClose)&&tp_inst._defaults.evnts.onClose.call($input[0],e,t,tp_inst)}},overrides)overrides.hasOwnProperty(i)&&(fns[i]=opts[i]||this._defaults[i]||null);tp_inst._defaults=$.extend({},this._defaults,inlineSettings,opts,overrides,{evnts:fns,timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,function(e){return e.toUpperCase()}),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,function(e){return e.toUpperCase()}),tp_inst.support=detectSupport(tp_inst._defaults.timeFormat+(tp_inst._defaults.pickerTimeFormat?tp_inst._defaults.pickerTimeFormat:"")+(tp_inst._defaults.altTimeFormat?tp_inst._defaults.altTimeFormat:"")),"string"==typeof tp_inst._defaults.controlType?("slider"===tp_inst._defaults.controlType&&void 0===$.ui.slider&&(tp_inst._defaults.controlType="select"),tp_inst.control=tp_inst._controls[tp_inst._defaults.controlType]):tp_inst.control=tp_inst._defaults.controlType;var timezoneList=[-720,-660,-600,-570,-540,-480,-420,-360,-300,-270,-240,-210,-180,-120,-60,0,60,120,180,210,240,270,300,330,345,360,390,420,480,525,540,570,600,630,660,690,720,765,780,840];null!==tp_inst._defaults.timezoneList&&(timezoneList=tp_inst._defaults.timezoneList);var tzl=timezoneList.length,tzi=0,tzv=null;if(tzl>0&&"object"!=typeof timezoneList[0])for(;tzi<tzl;tzi++)tzv=timezoneList[tzi],timezoneList[tzi]={value:tzv,label:$.timepicker.timezoneOffsetString(tzv,tp_inst.support.iso8601)};return tp_inst._defaults.timezoneList=timezoneList,tp_inst.timezone=null!==tp_inst._defaults.timezone?$.timepicker.timezoneOffsetNumber(tp_inst._defaults.timezone):-1*(new Date).getTimezoneOffset(),tp_inst.hour=tp_inst._defaults.hour<tp_inst._defaults.hourMin?tp_inst._defaults.hourMin:tp_inst._defaults.hour>tp_inst._defaults.hourMax?tp_inst._defaults.hourMax:tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute<tp_inst._defaults.minuteMin?tp_inst._defaults.minuteMin:tp_inst._defaults.minute>tp_inst._defaults.minuteMax?tp_inst._defaults.minuteMax:tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second<tp_inst._defaults.secondMin?tp_inst._defaults.secondMin:tp_inst._defaults.second>tp_inst._defaults.secondMax?tp_inst._defaults.secondMax:tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec<tp_inst._defaults.millisecMin?tp_inst._defaults.millisecMin:tp_inst._defaults.millisec>tp_inst._defaults.millisecMax?tp_inst._defaults.millisecMax:tp_inst._defaults.millisec,tp_inst.microsec=tp_inst._defaults.microsec<tp_inst._defaults.microsecMin?tp_inst._defaults.microsecMin:tp_inst._defaults.microsec>tp_inst._defaults.microsecMax?tp_inst._defaults.microsecMax:tp_inst._defaults.microsec,tp_inst.ampm="",tp_inst.$input=$input,tp_inst._defaults.altField&&(tp_inst.$altInput=$(tp_inst._defaults.altField),!0===tp_inst._defaults.altRedirectFocus&&tp_inst.$altInput.css({cursor:"pointer"}).focus(function(){$input.trigger("focus")})),0!==tp_inst._defaults.minDate&&0!==tp_inst._defaults.minDateTime||(tp_inst._defaults.minDate=new Date),0!==tp_inst._defaults.maxDate&&0!==tp_inst._defaults.maxDateTime||(tp_inst._defaults.maxDate=new Date),void 0!==tp_inst._defaults.minDate&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),void 0!==tp_inst._defaults.minDateTime&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),void 0!==tp_inst._defaults.maxDate&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),void 0!==tp_inst._defaults.maxDateTime&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst.$input.bind("focus",function(){tp_inst._onFocus()}),tp_inst},_addTimePicker:function(e){var t=$.trim(this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val());this.timeDefined=this._parseTime(t),this._limitMinMaxDateTime(e,!1),this._injectTimePicker(),this._afterInject()},_parseTime:function(e,t){if(this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),t||!this._defaults.timeOnly){var i=$.datepicker._get(this.inst,"dateFormat");try{var s=parseDateTimeInternal(i,this._defaults.timeFormat,e,$.datepicker._getFormatConfig(this.inst),this._defaults);if(!s.timeObj)return!1;$.extend(this,s.timeObj)}catch(t){return $.timepicker.log("Error parsing the date/time string: "+t+"\ndate/time string = "+e+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+i),!1}return!0}var n=$.datepicker.parseTime(this._defaults.timeFormat,e,this._defaults);return!!n&&($.extend(this,n),!0)},_afterInject:function(){var e=this.inst.settings;$.isFunction(e.afterInject)&&e.afterInject.call(this)},_injectTimePicker:function(){var e=this.inst.dpDiv,t=this.inst.settings,i=this,s="",n="",a=null,r={},o={},l=null,c=0,d=0;if(0===e.find("div.ui-timepicker-div").length&&t.showTimepicker){var u=" ui_tpicker_unit_hide",m='<div class="ui-timepicker-div'+(t.isRTL?" ui-timepicker-rtl":"")+(t.oneLine&&"select"===t.controlType?" ui-timepicker-oneLine":"")+'"><dl><dt class="ui_tpicker_time_label'+(t.showTime?"":u)+'">'+t.timeText+'</dt><dd class="ui_tpicker_time '+(t.showTime?"":u)+'"><input class="ui_tpicker_time_input" '+(t.timeInput?"":"disabled")+"/></dd>";for(c=0,d=this.units.length;c<d;c++){if(a=null!==t["show"+(n=(s=this.units[c]).substr(0,1).toUpperCase()+s.substr(1))]?t["show"+n]:this.support[s],r[s]=parseInt(t[s+"Max"]-(t[s+"Max"]-t[s+"Min"])%t["step"+n],10),o[s]=0,m+='<dt class="ui_tpicker_'+s+"_label"+(a?"":u)+'">'+t[s+"Text"]+'</dt><dd class="ui_tpicker_'+s+(a?"":u)+'"><div class="ui_tpicker_'+s+"_slider"+(a?"":u)+'"></div>',a&&t[s+"Grid"]>0){if(m+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>',"hour"===s)for(var f=t[s+"Min"];f<=r[s];f+=parseInt(t[s+"Grid"],10)){o[s]++;var h=$.datepicker.formatTime(this.support.ampm?"hht":"HH",{hour:f},t);m+='<td data-for="'+s+'">'+h+"</td>"}else for(var p=t[s+"Min"];p<=r[s];p+=parseInt(t[s+"Grid"],10))o[s]++,m+='<td data-for="'+s+'">'+(p<10?"0":"")+p+"</td>";m+="</tr></table></div>"}m+="</dd>"}var _=null!==t.showTimezone?t.showTimezone:this.support.timezone;m+='<dt class="ui_tpicker_timezone_label'+(_?"":u)+'">'+t.timezoneText+"</dt>",m+='<dd class="ui_tpicker_timezone'+(_?"":u)+'"></dd>';var g=$(m+="</dl></div>");for(!0===t.timeOnly&&(g.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+t.timeOnlyTitle+"</div></div>"),e.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),c=0,d=i.units.length;c<d;c++)a=null!==t["show"+(n=(s=i.units[c]).substr(0,1).toUpperCase()+s.substr(1))]?t["show"+n]:this.support[s],i[s+"_slider"]=i.control.create(i,g.find(".ui_tpicker_"+s+"_slider"),s,i[s],t[s+"Min"],r[s],t["step"+n]),a&&t[s+"Grid"]>0&&(l=100*o[s]*t[s+"Grid"]/(r[s]-t[s+"Min"]),g.find(".ui_tpicker_"+s+" table").css({width:l+"%",marginLeft:t.isRTL?"0":l/(-2*o[s])+"%",marginRight:t.isRTL?l/(-2*o[s])+"%":"0",borderCollapse:"collapse"}).find("td").click(function(e){var t=$(this),n=t.html(),a=parseInt(n.replace(/[^0-9]/g),10),r=n.replace(/[^apm]/gi),o=t.data("for");"hour"===o&&(-1!==r.indexOf("p")&&a<12?a+=12:-1!==r.indexOf("a")&&12===a&&(a=0)),i.control.value(i,i[o+"_slider"],s,a),i._onTimeChange(),i._onSelectHandler()}).css({cursor:"pointer",width:100/o[s]+"%",textAlign:"center",overflow:"hidden"}));if(this.timezone_select=g.find(".ui_tpicker_timezone").append("<select></select>").find("select"),$.fn.append.apply(this.timezone_select,$.map(t.timezoneList,function(e,t){return $("<option />").val("object"==typeof e?e.value:e).text("object"==typeof e?e.label:e)})),void 0!==this.timezone&&null!==this.timezone&&""!==this.timezone)-1*new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12).getTimezoneOffset()===this.timezone?selectLocalTimezone(i):this.timezone_select.val(this.timezone);else void 0!==this.hour&&null!==this.hour&&""!==this.hour?this.timezone_select.val(t.timezone):selectLocalTimezone(i);this.timezone_select.change(function(){i._onTimeChange(),i._onSelectHandler(),i._afterInject()});var v=e.find(".ui-datepicker-buttonpane");if(v.length?v.before(g):e.append(g),this.$timeObj=g.find(".ui_tpicker_time_input"),this.$timeObj.change(function(){var e=i.inst.settings.timeFormat,t=$.datepicker.parseTime(e,this.value),s=new Date;t?(s.setHours(t.hour),s.setMinutes(t.minute),s.setSeconds(t.second),$.datepicker._setTime(i.inst,s)):(this.value=i.formattedTime,this.blur())}),null!==this.inst){var k=this.timeDefined;this._onTimeChange(),this.timeDefined=k}if(this._defaults.addSliderAccess){var b=this._defaults.sliderAccessArgs,M=this._defaults.isRTL;b.isRTL=M,setTimeout(function(){if(0===g.find(".ui-slider-access").length){g.find(".ui-slider:visible").sliderAccess(b);var e=g.find(".ui-slider-access:eq(0)").outerWidth(!0);e&&g.find("table:visible").each(function(){var t=$(this),i=t.outerWidth(),s=t.css(M?"marginRight":"marginLeft").toString().replace("%",""),n=i-e,a=s*n/i+"%",r={width:n,marginRight:0,marginLeft:0};r[M?"marginRight":"marginLeft"]=a,t.css(r)})}},10)}i._limitMinMaxDateTime(this.inst,!0)}},_limitMinMaxDateTime:function(e,t){var i=this._defaults,s=new Date(e.selectedYear,e.selectedMonth,e.selectedDay);if(this._defaults.showTimepicker){if(null!==$.datepicker._get(e,"minDateTime")&&void 0!==$.datepicker._get(e,"minDateTime")&&s){var n=$.datepicker._get(e,"minDateTime"),a=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0);null!==this.hourMinOriginal&&null!==this.minuteMinOriginal&&null!==this.secondMinOriginal&&null!==this.millisecMinOriginal&&null!==this.microsecMinOriginal||(this.hourMinOriginal=i.hourMin,this.minuteMinOriginal=i.minuteMin,this.secondMinOriginal=i.secondMin,this.millisecMinOriginal=i.millisecMin,this.microsecMinOriginal=i.microsecMin),e.settings.timeOnly||a.getTime()===s.getTime()?(this._defaults.hourMin=n.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=n.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=n.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=n.getMilliseconds(),this.millisec<=this._defaults.millisecMin?(this.millisec=this._defaults.millisecMin,this._defaults.microsecMin=n.getMicroseconds()):(this.microsec<this._defaults.microsecMin&&(this.microsec=this._defaults.microsecMin),this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)}if(null!==$.datepicker._get(e,"maxDateTime")&&void 0!==$.datepicker._get(e,"maxDateTime")&&s){var r=$.datepicker._get(e,"maxDateTime"),o=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0,0);null!==this.hourMaxOriginal&&null!==this.minuteMaxOriginal&&null!==this.secondMaxOriginal&&null!==this.millisecMaxOriginal||(this.hourMaxOriginal=i.hourMax,this.minuteMaxOriginal=i.minuteMax,this.secondMaxOriginal=i.secondMax,this.millisecMaxOriginal=i.millisecMax,this.microsecMaxOriginal=i.microsecMax),e.settings.timeOnly||o.getTime()===s.getTime()?(this._defaults.hourMax=r.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=r.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=r.getSeconds(),this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=r.getMilliseconds(),this.millisec>=this._defaults.millisecMax?(this.millisec=this._defaults.millisecMax,this._defaults.microsecMax=r.getMicroseconds()):(this.microsec>this._defaults.microsecMax&&(this.microsec=this._defaults.microsecMax),this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)}if(null!==e.settings.minTime){var l=new Date("01/01/1970 "+e.settings.minTime);this.hour<l.getHours()?(this.hour=this._defaults.hourMin=l.getHours(),this.minute=this._defaults.minuteMin=l.getMinutes()):this.hour===l.getHours()&&this.minute<l.getMinutes()?this.minute=this._defaults.minuteMin=l.getMinutes():this._defaults.hourMin<l.getHours()?(this._defaults.hourMin=l.getHours(),this._defaults.minuteMin=l.getMinutes()):this._defaults.hourMin===l.getHours()===this.hour&&this._defaults.minuteMin<l.getMinutes()?this._defaults.minuteMin=l.getMinutes():this._defaults.minuteMin=0}if(null!==e.settings.maxTime){var c=new Date("01/01/1970 "+e.settings.maxTime);this.hour>c.getHours()?(this.hour=this._defaults.hourMax=c.getHours(),this.minute=this._defaults.minuteMax=c.getMinutes()):this.hour===c.getHours()&&this.minute>c.getMinutes()?this.minute=this._defaults.minuteMax=c.getMinutes():this._defaults.hourMax>c.getHours()?(this._defaults.hourMax=c.getHours(),this._defaults.minuteMax=c.getMinutes()):this._defaults.hourMax===c.getHours()===this.hour&&this._defaults.minuteMax>c.getMinutes()?this._defaults.minuteMax=c.getMinutes():this._defaults.minuteMax=59}if(void 0!==t&&!0===t){var d=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),u=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),m=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),f=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10),h=parseInt(this._defaults.microsecMax-(this._defaults.microsecMax-this._defaults.microsecMin)%this._defaults.stepMicrosec,10);this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:d,step:this._defaults.stepHour}),this.control.value(this,this.hour_slider,"hour",this.hour-this.hour%this._defaults.stepHour)),this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:u,step:this._defaults.stepMinute}),this.control.value(this,this.minute_slider,"minute",this.minute-this.minute%this._defaults.stepMinute)),this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:m,step:this._defaults.stepSecond}),this.control.value(this,this.second_slider,"second",this.second-this.second%this._defaults.stepSecond)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:f,step:this._defaults.stepMillisec}),this.control.value(this,this.millisec_slider,"millisec",this.millisec-this.millisec%this._defaults.stepMillisec)),this.microsec_slider&&(this.control.options(this,this.microsec_slider,"microsec",{min:this._defaults.microsecMin,max:h,step:this._defaults.stepMicrosec}),this.control.value(this,this.microsec_slider,"microsec",this.microsec-this.microsec%this._defaults.stepMicrosec))}}},_onTimeChange:function(){if(this._defaults.showTimepicker){var e=!!this.hour_slider&&this.control.value(this,this.hour_slider,"hour"),t=!!this.minute_slider&&this.control.value(this,this.minute_slider,"minute"),i=!!this.second_slider&&this.control.value(this,this.second_slider,"second"),s=!!this.millisec_slider&&this.control.value(this,this.millisec_slider,"millisec"),n=!!this.microsec_slider&&this.control.value(this,this.microsec_slider,"microsec"),a=!!this.timezone_select&&this.timezone_select.val(),r=this._defaults,o=r.pickerTimeFormat||r.timeFormat,l=r.pickerTimeSuffix||r.timeSuffix;"object"==typeof e&&(e=!1),"object"==typeof t&&(t=!1),"object"==typeof i&&(i=!1),"object"==typeof s&&(s=!1),"object"==typeof n&&(n=!1),"object"==typeof a&&(a=!1),!1!==e&&(e=parseInt(e,10)),!1!==t&&(t=parseInt(t,10)),!1!==i&&(i=parseInt(i,10)),!1!==s&&(s=parseInt(s,10)),!1!==n&&(n=parseInt(n,10)),!1!==a&&(a=a.toString());var c=r[e<12?"amNames":"pmNames"][0],d=e!==parseInt(this.hour,10)||t!==parseInt(this.minute,10)||i!==parseInt(this.second,10)||s!==parseInt(this.millisec,10)||n!==parseInt(this.microsec,10)||this.ampm.length>0&&e<12!=(-1!==$.inArray(this.ampm.toUpperCase(),this.amNames))||null!==this.timezone&&a!==this.timezone.toString();if(d&&(!1!==e&&(this.hour=e),!1!==t&&(this.minute=t),!1!==i&&(this.second=i),!1!==s&&(this.millisec=s),!1!==n&&(this.microsec=n),!1!==a&&(this.timezone=a),this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),this.support.ampm&&(this.ampm=c),this.formattedTime=$.datepicker.formatTime(r.timeFormat,this,r),this.$timeObj&&(o===r.timeFormat?this.$timeObj.val(this.formattedTime+l):this.$timeObj.val($.datepicker.formatTime(o,this,r)+l),this.$timeObj[0].setSelectionRange)){var u=this.$timeObj[0].selectionStart,m=this.$timeObj[0].selectionEnd;this.$timeObj[0].setSelectionRange(u,m)}this.timeDefined=!0,d&&this._updateDateTime()}},_onSelectHandler:function(){var e=this._defaults.onSelect||this.inst.settings.onSelect,t=this.$input?this.$input[0]:null;e&&t&&e.apply(t,[this.formattedDateTime,this])},_updateDateTime:function(e){var t=(e=this.inst||e).currentYear>0?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(e.selectedYear,e.selectedMonth,e.selectedDay),i=$.datepicker._daylightSavingAdjust(t),s=$.datepicker._get(e,"dateFormat"),n=$.datepicker._getFormatConfig(e),a=null!==i&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(s,null===i?new Date:i,n);var r=this.formattedDate;if(""===e.lastVal&&(e.currentYear=e.selectedYear,e.currentMonth=e.selectedMonth,e.currentDay=e.selectedDay),!0===this._defaults.timeOnly&&!1===this._defaults.timeOnlyShowDate?r=this.formattedTime:(!0!==this._defaults.timeOnly&&(this._defaults.alwaysSetTime||a)||!0===this._defaults.timeOnly&&!0===this._defaults.timeOnlyShowDate)&&(r+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=r,this._defaults.showTimepicker)if(this.$altInput&&!1===this._defaults.timeOnly&&!0===this._defaults.altFieldTimeOnly)this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate);else if(this.$altInput){this.$input.val(r);var o="",l=null!==this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,c=null!==this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;this._defaults.timeOnly||(o=this._defaults.altFormat?$.datepicker.formatDate(this._defaults.altFormat,null===i?new Date:i,n):this.formattedDate)&&(o+=l),null!==this._defaults.altTimeFormat?o+=$.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+c:o+=this.formattedTime+c,this.$altInput.val(o)}else this.$input.val(r);else this.$input.val(this.formattedDate);this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var e=$.datepicker._getInst(this.$input.get(0)),t=$.datepicker._get(e,"timepicker");if(t&&t._defaults.timeOnly&&e.input.val()!==e.lastVal)try{$.datepicker._updateDatepicker(e)}catch(e){$.timepicker.log(e)}}},_controls:{slider:{create:function(e,t,i,s,n,a,r){var o=e._defaults.isRTL;return t.prop("slide",null).slider({orientation:"horizontal",value:o?-1*s:s,min:o?-1*a:n,max:o?-1*n:a,step:r,slide:function(t,s){e.control.value(e,$(this),i,o?-1*s.value:s.value),e._onTimeChange()},stop:function(t,i){e._onSelectHandler()}})},options:function(e,t,i,s,n){if(e._defaults.isRTL){if("string"==typeof s)return"min"===s||"max"===s?void 0!==n?t.slider(s,-1*n):Math.abs(t.slider(s)):t.slider(s);var a=s.min,r=s.max;return s.min=s.max=null,void 0!==a&&(s.max=-1*a),void 0!==r&&(s.min=-1*r),t.slider(s)}return"string"==typeof s&&void 0!==n?t.slider(s,n):t.slider(s)},value:function(e,t,i,s){return e._defaults.isRTL?void 0!==s?t.slider("value",-1*s):Math.abs(t.slider("value")):void 0!==s?t.slider("value",s):t.slider("value")}},select:{create:function(e,t,i,s,n,a,r){for(var o='<select class="ui-timepicker-select ui-state-default ui-corner-all" data-unit="'+i+'" data-min="'+n+'" data-max="'+a+'" data-step="'+r+'">',l=e._defaults.pickerTimeFormat||e._defaults.timeFormat,c=n;c<=a;c+=r)o+='<option value="'+c+'"'+(c===s?" selected":"")+">",o+="hour"===i?$.datepicker.formatTime($.trim(l.replace(/[^ht ]/gi,"")),{hour:c},e._defaults):"millisec"===i||"microsec"===i||c>=10?c:"0"+c.toString(),o+="</option>";return o+="</select>",t.children("select").remove(),$(o).appendTo(t).change(function(t){e._onTimeChange(),e._onSelectHandler(),e._afterInject()}),t},options:function(e,t,i,s,n){var a={},r=t.children("select");if("string"==typeof s){if(void 0===n)return r.data(s);a[s]=n}else a=s;return e.control.create(e,t,r.data("unit"),r.val(),a.min>=0?a.min:r.data("min"),a.max||r.data("max"),a.step||r.data("step"))},value:function(e,t,i,s){var n=t.children("select");return void 0!==s?n.val(s):n.val()}}}}),$.fn.extend({timepicker:function(e){e=e||{};var t=Array.prototype.slice.call(arguments);return"object"==typeof e&&(t[0]=$.extend(e,{timeOnly:!0})),$(this).each(function(){$.fn.datetimepicker.apply($(this),t)})},datetimepicker:function(e){var t=arguments;return"string"==typeof(e=e||{})?"getDate"===e||"option"===e&&2===t.length&&"string"==typeof t[1]?$.fn.datepicker.apply($(this[0]),t):this.each(function(){var e=$(this);e.datepicker.apply(e,t)}):this.each(function(){var t=$(this);t.datepicker($.timepicker._newInst(t,e)._defaults)})}}),$.datepicker.parseDateTime=function(e,t,i,s,n){var a=parseDateTimeInternal(e,t,i,s,n);if(a.timeObj){var r=a.timeObj;a.date.setHours(r.hour,r.minute,r.second,r.millisec),a.date.setMicroseconds(r.microsec)}return a.date},$.datepicker.parseTime=function(e,t,i){var s=extendRemove(extendRemove({},$.timepicker._defaults),i||{}),n=(e.replace(/\'.*?\'/g,"").indexOf("Z"),function(e,t,i){var s,n="^"+e.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(e){var t,s,n,a=e.length;switch(e.charAt(0).toLowerCase()){case"h":case"m":case"s":return 1===a?"(\\d?\\d)":"(\\d{"+a+"})";case"l":case"c":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return t=i.amNames,s=i.pmNames,n=[],t&&$.merge(n,t),s&&$.merge(n,s),"("+(n=$.map(n,function(e){return e.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")})).join("|")+")?";default:return"("+e.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(e){return"\\"+e})+")?"}}).replace(/\s/g,"\\s?")+i.timeSuffix+"$",a=function(e){var t=e.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),i={h:-1,m:-1,s:-1,l:-1,c:-1,t:-1,z:-1};if(t)for(var s=0;s<t.length;s++)-1===i[t[s].toString().charAt(0)]&&(i[t[s].toString().charAt(0)]=s+1);return i}(e),r="",o={hour:0,minute:0,second:0,millisec:0,microsec:0};return!!(s=t.match(new RegExp(n,"i")))&&(-1!==a.t&&(void 0===s[a.t]||0===s[a.t].length?(r="",o.ampm=""):(r=-1!==$.inArray(s[a.t].toUpperCase(),$.map(i.amNames,function(e,t){return e.toUpperCase()}))?"AM":"PM",o.ampm=i["AM"===r?"amNames":"pmNames"][0])),-1!==a.h&&("AM"===r&&"12"===s[a.h]?o.hour=0:"PM"===r&&"12"!==s[a.h]?o.hour=parseInt(s[a.h],10)+12:o.hour=Number(s[a.h])),-1!==a.m&&(o.minute=Number(s[a.m])),-1!==a.s&&(o.second=Number(s[a.s])),-1!==a.l&&(o.millisec=Number(s[a.l])),-1!==a.c&&(o.microsec=Number(s[a.c])),-1!==a.z&&void 0!==s[a.z]&&(o.timezone=$.timepicker.timezoneOffsetNumber(s[a.z])),o)});return"function"==typeof s.parse?s.parse(e,t,s):"loose"===s.parse?function(e,t,i){try{var s=new Date("2012-01-01 "+t);if(isNaN(s.getTime())&&(s=new Date("2012-01-01T"+t),isNaN(s.getTime())&&(s=new Date("01/01/2012 "+t),isNaN(s.getTime()))))throw"Unable to parse time with native Date: "+t;return{hour:s.getHours(),minute:s.getMinutes(),second:s.getSeconds(),millisec:s.getMilliseconds(),microsec:s.getMicroseconds(),timezone:-1*s.getTimezoneOffset()}}catch(s){try{return n(e,t,i)}catch(i){$.timepicker.log("Unable to parse \ntimeString: "+t+"\ntimeFormat: "+e)}}return!1}(e,t,s):n(e,t,s)},$.datepicker.formatTime=function(e,t,i){i=i||{},i=$.extend({},$.timepicker._defaults,i),t=$.extend({hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null},t);var s=e,n=i.amNames[0],a=parseInt(t.hour,10);return a>11&&(n=i.pmNames[0]),s=s.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(e){switch(e){case"HH":return("0"+a).slice(-2);case"H":return a;case"hh":return("0"+convert24to12(a)).slice(-2);case"h":return convert24to12(a);case"mm":return("0"+t.minute).slice(-2);case"m":return t.minute;case"ss":return("0"+t.second).slice(-2);case"s":return t.second;case"l":return("00"+t.millisec).slice(-3);case"c":return("00"+t.microsec).slice(-3);case"z":return $.timepicker.timezoneOffsetString(null===t.timezone?i.timezone:t.timezone,!1);case"Z":return $.timepicker.timezoneOffsetString(null===t.timezone?i.timezone:t.timezone,!0);case"T":return n.charAt(0).toUpperCase();case"TT":return n.toUpperCase();case"t":return n.charAt(0).toLowerCase();case"tt":return n.toLowerCase();default:return e.replace(/'/g,"")}})},$.datepicker._base_selectDate=$.datepicker._selectDate,$.datepicker._selectDate=function(e,t){var i,s=this._getInst($(e)[0]),n=this._get(s,"timepicker");n&&s.settings.showTimepicker?(n._limitMinMaxDateTime(s,!0),i=s.inline,s.inline=s.stay_open=!0,this._base_selectDate(e,t),s.inline=i,s.stay_open=!1,this._notifyChange(s),this._updateDatepicker(s)):this._base_selectDate(e,t)},$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker,$.datepicker._updateDatepicker=function(e){var t=e.input[0];if(!($.datepicker._curInst&&$.datepicker._curInst!==e&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!==t||"boolean"==typeof e.stay_open&&!1!==e.stay_open)){this._base_updateDatepicker(e);var i=this._get(e,"timepicker");i&&i._addTimePicker(e)}},$.datepicker._base_doKeyPress=$.datepicker._doKeyPress,$.datepicker._doKeyPress=function(e){var t=$.datepicker._getInst(e.target),i=$.datepicker._get(t,"timepicker");if(i&&$.datepicker._get(t,"constrainInput")){var s=i.support.ampm,n=null!==i._defaults.showTimezone?i._defaults.showTimezone:i.support.timezone,a=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),r=i._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,s?"APM":"").replace(/Tt/g,s?"AaPpMm":"").replace(/tT/g,s?"AaPpMm":"").replace(/T/g,s?"AP":"").replace(/tt/g,s?"apm":"").replace(/t/g,s?"ap":"")+" "+i._defaults.separator+i._defaults.timeSuffix+(n?i._defaults.timezoneList.join(""):"")+i._defaults.amNames.join("")+i._defaults.pmNames.join("")+a,o=String.fromCharCode(void 0===e.charCode?e.keyCode:e.charCode);return e.ctrlKey||o<" "||!a||r.indexOf(o)>-1}return $.datepicker._base_doKeyPress(e)},$.datepicker._base_updateAlternate=$.datepicker._updateAlternate,$.datepicker._updateAlternate=function(e){var t=this._get(e,"timepicker");if(t){var i=t._defaults.altField;if(i){t._defaults.altFormat||t._defaults.dateFormat;var s=this._getDate(e),n=$.datepicker._getFormatConfig(e),a="",r=t._defaults.altSeparator?t._defaults.altSeparator:t._defaults.separator,o=t._defaults.altTimeSuffix?t._defaults.altTimeSuffix:t._defaults.timeSuffix,l=null!==t._defaults.altTimeFormat?t._defaults.altTimeFormat:t._defaults.timeFormat;a+=$.datepicker.formatTime(l,t,t._defaults)+o,t._defaults.timeOnly||t._defaults.altFieldTimeOnly||null===s||(a=t._defaults.altFormat?$.datepicker.formatDate(t._defaults.altFormat,s,n)+r+a:t.formattedDate+r+a),$(i).val(e.input.val()?a:"")}}else $.datepicker._base_updateAlternate(e)},$.datepicker._base_doKeyUp=$.datepicker._doKeyUp,$.datepicker._doKeyUp=function(e){var t=$.datepicker._getInst(e.target),i=$.datepicker._get(t,"timepicker");if(i&&i._defaults.timeOnly&&t.input.val()!==t.lastVal)try{$.datepicker._updateDatepicker(t)}catch(e){$.timepicker.log(e)}return $.datepicker._base_doKeyUp(e)},$.datepicker._base_gotoToday=$.datepicker._gotoToday,$.datepicker._gotoToday=function(e){var t=this._getInst($(e)[0]);this._base_gotoToday(e);var i=this._get(t,"timepicker");if(i){var s=$.timepicker.timezoneOffsetNumber(i.timezone),n=new Date;n.setMinutes(n.getMinutes()+n.getTimezoneOffset()+parseInt(s,10)),this._setTime(t,n),this._setDate(t,n),i._onSelectHandler()}},$.datepicker._disableTimepickerDatepicker=function(e){var t=this._getInst(e);if(t){var i=this._get(t,"timepicker");$(e).datepicker("getDate"),i&&(t.settings.showTimepicker=!1,i._defaults.showTimepicker=!1,i._updateDateTime(t))}},$.datepicker._enableTimepickerDatepicker=function(e){var t=this._getInst(e);if(t){var i=this._get(t,"timepicker");$(e).datepicker("getDate"),i&&(t.settings.showTimepicker=!0,i._defaults.showTimepicker=!0,i._addTimePicker(t),i._updateDateTime(t))}},$.datepicker._setTime=function(e,t){var i=this._get(e,"timepicker");if(i){var s=i._defaults;i.hour=t?t.getHours():s.hour,i.minute=t?t.getMinutes():s.minute,i.second=t?t.getSeconds():s.second,i.millisec=t?t.getMilliseconds():s.millisec,i.microsec=t?t.getMicroseconds():s.microsec,i._limitMinMaxDateTime(e,!0),i._onTimeChange(),i._updateDateTime(e)}},$.datepicker._setTimeDatepicker=function(e,t,i){var s=this._getInst(e);if(s){var n,a=this._get(s,"timepicker");if(a)this._setDateFromField(s),t&&("string"==typeof t?(a._parseTime(t,i),(n=new Date).setHours(a.hour,a.minute,a.second,a.millisec),n.setMicroseconds(a.microsec)):(n=new Date(t.getTime())).setMicroseconds(t.getMicroseconds()),"Invalid Date"===n.toString()&&(n=void 0),this._setTime(s,n))}},$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker,$.datepicker._setDateDatepicker=function(e,t){var i=this._getInst(e),s=t;if(i){"string"==typeof t&&((s=new Date(t)).getTime()||(this._base_setDateDatepicker.apply(this,arguments),s=$(e).datepicker("getDate")));var n,a=this._get(i,"timepicker");s instanceof Date?(n=new Date(s.getTime())).setMicroseconds(s.getMicroseconds()):n=s,a&&n&&(a.support.timezone||null!==a._defaults.timezone||(a.timezone=-1*n.getTimezoneOffset()),s=$.timepicker.timezoneAdjust(s,$.timepicker.timezoneOffsetString(-s.getTimezoneOffset()),a.timezone),n=$.timepicker.timezoneAdjust(n,$.timepicker.timezoneOffsetString(-n.getTimezoneOffset()),a.timezone)),this._updateDatepicker(i),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(e,n,!0)}},$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker,$.datepicker._getDateDatepicker=function(e,t){var i=this._getInst(e);if(i){var s=this._get(i,"timepicker");if(s){void 0===i.lastVal&&this._setDateFromField(i,t);var n=this._getDate(i),a=null;return a=s.$altInput&&s._defaults.altFieldTimeOnly?s.$input.val()+" "+s.$altInput.val():"INPUT"!==s.$input.get(0).tagName&&s.$altInput?s.$altInput.val():s.$input.val(),n&&s._parseTime(a,!i.settings.timeOnly)&&(n.setHours(s.hour,s.minute,s.second,s.millisec),n.setMicroseconds(s.microsec),null!=s.timezone&&(s.support.timezone||null!==s._defaults.timezone||(s.timezone=-1*n.getTimezoneOffset()),n=$.timepicker.timezoneAdjust(n,s.timezone,$.timepicker.timezoneOffsetString(-n.getTimezoneOffset())))),n}return this._base_getDateDatepicker(e,t)}},$.datepicker._base_parseDate=$.datepicker.parseDate,$.datepicker.parseDate=function(e,t,i){var s;try{s=this._base_parseDate(e,t,i)}catch(n){if(!(n.indexOf(":")>=0))throw n;s=this._base_parseDate(e,t.substring(0,t.length-(n.length-n.indexOf(":")-2)),i),$.timepicker.log("Error parsing the date string: "+n+"\ndate string = "+t+"\ndate format = "+e)}return s},$.datepicker._base_formatDate=$.datepicker._formatDate,$.datepicker._formatDate=function(e,t,i,s){var n=this._get(e,"timepicker");return n?(n._updateDateTime(e),n.$input.val()):this._base_formatDate(e)},$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker,$.datepicker._optionDatepicker=function(e,t,i){var s,n=this._getInst(e);if(!n)return null;var a=this._get(n,"timepicker");if(a){var r,o,l,c,d=null,u=null,m=null,f=a._defaults.evnts,h={};if("string"==typeof t){if("minDate"===t||"minDateTime"===t)d=i;else if("maxDate"===t||"maxDateTime"===t)u=i;else if("onSelect"===t)m=i;else if(f.hasOwnProperty(t)){if(void 0===i)return f[t];h[t]=i,s={}}}else if("object"==typeof t)for(r in t.minDate?d=t.minDate:t.minDateTime?d=t.minDateTime:t.maxDate?u=t.maxDate:t.maxDateTime&&(u=t.maxDateTime),f)f.hasOwnProperty(r)&&t[r]&&(h[r]=t[r]);for(r in h)h.hasOwnProperty(r)&&(f[r]=h[r],s||(s=$.extend({},t)),delete s[r]);if(s&&isEmptyObject(s))return;if(d?(d=0===d?new Date:new Date(d),a._defaults.minDate=d,a._defaults.minDateTime=d):u?(u=0===u?new Date:new Date(u),a._defaults.maxDate=u,a._defaults.maxDateTime=u):m&&(a._defaults.onSelect=m),d||u)return l=(c=$(e)).datetimepicker("getDate"),o=this._base_optionDatepicker.call($.datepicker,e,s||t,i),c.datetimepicker("setDate",l),o}return void 0===i?this._base_optionDatepicker.call($.datepicker,e,t):this._base_optionDatepicker.call($.datepicker,e,s||t,i)};var isEmptyObject=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0},extendRemove=function(e,t){for(var i in $.extend(e,t),t)null!==t[i]&&void 0!==t[i]||(e[i]=t[i]);return e},detectSupport=function(e){var t=e.replace(/'.*?'/g,"").toLowerCase(),i=function(e,t){return-1!==e.indexOf(t)};return{hour:i(t,"h"),minute:i(t,"m"),second:i(t,"s"),millisec:i(t,"l"),microsec:i(t,"c"),timezone:i(t,"z"),ampm:i(t,"t")&&i(e,"h"),iso8601:i(e,"Z")}},convert24to12=function(e){return 0===(e%=12)&&(e=12),String(e)},computeEffectiveSetting=function(e,t){return e&&e[t]?e[t]:$.timepicker._defaults[t]},splitDateTime=function(e,t){var i=computeEffectiveSetting(t,"separator"),s=computeEffectiveSetting(t,"timeFormat").split(i).length,n=e.split(i),a=n.length;return a>1?{dateString:n.splice(0,a-s).join(i),timeString:n.splice(0,s).join(i)}:{dateString:e,timeString:""}},parseDateTimeInternal=function(e,t,i,s,n){var a,r,o;if(r=splitDateTime(i,n),a=$.datepicker._base_parseDate(e,r.dateString,s),""===r.timeString)return{date:a};if(!(o=$.datepicker.parseTime(t,r.timeString,n)))throw"Wrong time format";return{date:a,timeObj:o}},selectLocalTimezone=function(e,t){if(e&&e.timezone_select){var i=t||new Date;e.timezone_select.val(-i.getTimezoneOffset())}};$.timepicker=new Timepicker,$.timepicker.timezoneOffsetString=function(e,t){if(isNaN(e)||e>840||e<-720)return e;var i=e%60,s=(e-i)/60,n=t?":":"",a=(e>=0?"+":"-")+("0"+Math.abs(s)).slice(-2)+n+("0"+Math.abs(i)).slice(-2);return"+00:00"===a?"Z":a},$.timepicker.timezoneOffsetNumber=function(e){var t=e.toString().replace(":","");return"Z"===t.toUpperCase()?0:/^(\-|\+)\d{4}$/.test(t)?("-"===t.substr(0,1)?-1:1)*(60*parseInt(t.substr(1,2),10)+parseInt(t.substr(3,2),10)):parseInt(e,10)},$.timepicker.timezoneAdjust=function(e,t,i){var s=$.timepicker.timezoneOffsetNumber(t),n=$.timepicker.timezoneOffsetNumber(i);return isNaN(n)||e.setMinutes(e.getMinutes()+-s- -n),e},$.timepicker.timeRange=function(e,t,i){return $.timepicker.handleRange("timepicker",e,t,i)},$.timepicker.datetimeRange=function(e,t,i){$.timepicker.handleRange("datetimepicker",e,t,i)},$.timepicker.dateRange=function(e,t,i){$.timepicker.handleRange("datepicker",e,t,i)},$.timepicker.handleRange=function(e,t,i,s){s=$.extend({},{minInterval:0,maxInterval:0,start:{},end:{}},s);var n=!1;function a(n,a){var r=t[e]("getDate"),o=i[e]("getDate"),l=n[e]("getDate");if(null!==r){var c=new Date(r.getTime()),d=new Date(r.getTime());c.setMilliseconds(c.getMilliseconds()+s.minInterval),d.setMilliseconds(d.getMilliseconds()+s.maxInterval),s.minInterval>0&&c>o?i[e]("setDate",c):s.maxInterval>0&&d<o?i[e]("setDate",d):r>o&&a[e]("setDate",l)}}function r(t,i,n){if(t.val()){var a=t[e].call(t,"getDate");null!==a&&s.minInterval>0&&("minDate"===n&&a.setMilliseconds(a.getMilliseconds()+s.minInterval),"maxDate"===n&&a.setMilliseconds(a.getMilliseconds()-s.minInterval)),a.getTime&&i[e].call(i,"option",n,a)}}return"timepicker"===e&&(n=!0,e="datetimepicker"),$.fn[e].call(t,$.extend({timeOnly:n,onClose:function(e,t){a($(this),i)},onSelect:function(e){r($(this),i,"minDate")}},s,s.start)),$.fn[e].call(i,$.extend({timeOnly:n,onClose:function(e,i){a($(this),t)},onSelect:function(e){r($(this),t,"maxDate")}},s,s.end)),a(t,i),r(t,i,"minDate"),r(i,t,"maxDate"),$([t.get(0),i.get(0)])},$.timepicker.log=function(){window.console&&window.console.log&&window.console.log.apply&&window.console.log.apply(window.console,Array.prototype.slice.call(arguments))},$.timepicker._util={_extendRemove:extendRemove,_isEmptyObject:isEmptyObject,_convert24to12:convert24to12,_detectSupport:detectSupport,_selectLocalTimezone:selectLocalTimezone,_computeEffectiveSetting:computeEffectiveSetting,_splitDateTime:splitDateTime,_parseDateTimeInternal:parseDateTimeInternal},Date.prototype.getMicroseconds||(Date.prototype.microseconds=0,Date.prototype.getMicroseconds=function(){return this.microseconds},Date.prototype.setMicroseconds=function(e){return this.setMilliseconds(this.getMilliseconds()+Math.floor(e/1e3)),this.microseconds=e%1e3,this}),$.timepicker.version="1.6.3"}});var giveFFMDateField={setDatePicker:function(){jQuery("body").on("focus",".give-ffm-date",function(){var e=jQuery(this),t=jQuery("body").hasClass("wp-admin")?give_ffm_formbuilder:give_ffm_frontend;if(e.hasClass("give-ffm-timepicker")){var i=new Date,s=i.getHours(),n=i.getMinutes();e.datetimepicker({dateFormat:e.data("dateformat"),timeFormat:e.data("timeformat"),hour:s,minute:n,currentText:t.i18n.timepicker.now,closeText:t.i18n.timepicker.done,timeOnlyTitle:t.i18n.timepicker.choose_time,timeText:t.i18n.timepicker.time,hourText:t.i18n.timepicker.hour,minuteText:t.i18n.timepicker.minute})}else e.datepicker({dateFormat:e.data("dateformat")})})}};!function(e){e(function(){e(".js-phone-domestic").mask("(999) 999-9999")})}(jQuery),function(e){var t=e("ul#give-form-fields-editor"),i={init:function(){this.makeSortable(),e("button.ffm-collapse").on("click",this.collapseEditFields),e(".give-form-fields-buttons").on("click","button",this.addNewField),t.on("click",".item-delete",this.removeFormField),t.on("blur",".js-ffm-field-label",this.setMetaKey),t.on("blur",".js-ffm-meta-key",this.updateMetaKey),t.on("blur",".js-ffm-meta-key",this.setEmailTag),e(".js-ffm-meta-key",t).blur(),i.resetReservedMetaKeys(),e("#submitdiv").on("click","#publish",this.validateOnPublish),e(window).on("keypress",this.validateOnPublish),t.on("change",".give-form-fields-sub-fields input[type=text]",function(){e(this).prev("input[type=checkbox], input[type=radio]").val(e(this).val())}),t.on("change",".hide-field-label input",this.showHideFFMFields),t.on("click","input[type=checkbox].multicolumn",function(){var t=e(this),i=t.closest(".give-form-fields-rows");t.is(":checked")?(i.next().hide().next().hide(),i.siblings(".column-names").show()):(i.next().show().next().show(),i.siblings(".column-names").hide())}),t.on("click",".ffm-clone-field",this.cloneField),t.on("click",".ffm-remove-field",this.removeField),t.on("click",".give-icon-locked-anchor",this.unlock_meta_key),t.on("click",".give_ffm_field_duplicate_icon",this.duplicateField),e(document).on("give_export_donations_form_response",function(t,i){var s=void 0!==i.ffm_fields&&null!==i.ffm_fields?i.ffm_fields:"";if(s){var n=e(".give-export-donations-ffm ul");e(s).each(function(t,i){var s=void 0!==i.repeaters?i.repeaters:"";if(s){n.closest("tr").removeClass("give-hidden");var a="";e(s).each(function(e,t){a!==t.parent_title&&n.append('<li class="give-export-donation-checkbox-remove repeater-section-title" data-parent-meta="'+t.parent_meta+'"><label for="give-give-donations-ffm-field-'+t.parent_meta+'"><input type="checkbox" name="give_give_donations_export_parent['+t.parent_meta+']" id="give-give-donations-ffm-field-'+t.parent_meta+'">'+t.parent_title+"</label></li>"),a=t.parent_title,n.append('<li class="give-export-donation-checkbox-remove repeater-section repeater-section-'+t.parent_meta+'"><label for="give-give-donations-ffm-field-'+t.subkey+'"><input type="checkbox" name="give_give_donations_export_option['+t.subkey+']" id="give-give-donations-ffm-field-'+t.subkey+'">'+t.label+"</label></li>")})}var r=void 0!==i.single?i.single:"";r&&(n.closest("tr").removeClass("give-hidden"),e(r).each(function(e,t){n.append('<li class="give-export-donation-checkbox-remove"><label for="give-give-donations-ffm-field-'+t.subkey+'"><input type="checkbox" name="give_give_donations_export_option['+t.metakey+']" id="give-give-donations-ffm-field-'+t.subkey+'">'+t.label+"</label> </li>")}))})}})},unlock_meta_key:function(t){confirm(give_ffm_formbuilder.notify_meta_key_lock)&&(e(this).closest(".give-meta-key-wrap").find('input[type="text"]').removeAttr("readonly"),e(this).closest(".give-meta-key-wrap").find('input[type="text"]').removeAttr("disabled"),e(this).remove()),t.preventDefault()},makeSortable:function(){(t=e("ul#give-form-fields-editor"))&&t.sortable({placeholder:"sortable-placeholder",handle:"> .ffm-legend",distance:5})},addNewField:function(t){t.preventDefault(),e(".ffm-loading").fadeIn();var s=e(this),n=e("ul#give-form-fields-editor"),a=(e("#ffm-metabox-editor"),{name:s.data("name"),type:s.data("type"),order:n.find("li").length+1,action:"give-form-fields_add_el"});e.post(ajaxurl,a,function(t){n.append(t),i.makeSortable(),e(".ffm-loading").fadeOut(),e(".ffm-no-fields").hide()})},removeFormField:function(t){t.preventDefault(),confirm("Are you sure you want to remove this form field?")&&e(this).closest("li").fadeOut(function(){e(this).remove()})},cloneField:function(t){t.preventDefault();var i=e(this).closest("div"),s=i.clone();s.find("input").val(""),s.find(":checked").attr("checked",""),i.after(s)},removeField:function(){var t=e(this).closest("div");1<t.siblings().andSelf().length&&t.remove()},updateMetaKey:function(){var s=e(this).val(),n=e(this).attr("data-previouskey"),a=t.attr("data-reserved");void 0!==a&&(a=a.split(","),n!==s&&-1<a.indexOf(n)&&(s=i.updateMetaKeyToUnique(s),a[a.indexOf(n)]=s),e(this).val(s),t.attr("data-reserved",a),e(this).attr("data-previouskey",s))},setMetaKey:function(){var t,s,n=e(this);if(n.hasClass("js-ffm-field-label"))t=n,s=n.closest(".give-form-fields-rows").next().find(".js-ffm-meta-key");else{if(!n.hasClass("js-ffm-meta-key"))return!1;t=n.closest(".give-form-fields-rows").prev().find(".js-ffm-field-label"),s=n}if(s.length&&!s.val()){var a=t.val(),r=document.createElement("div");r.innerHTML=a,195<(a=r.innerText.trim().toLowerCase().replace(/[\s\-]/g,"_").replace(/[^a-z0-9_]/g,"")).length&&(a=a.substring(0,195)),a=i.updateMetaKeyToUnique(a),s.val()!==a&&(s.attr("data-previouskey",a),s.val(a).blur())}},resetReservedMetaKeys:function(){var i=["address","comment"];0<t.children("li").length&&t.children("li").each(function(){var t=e(this).find(".js-ffm-meta-key").val();""!==t&&i.push(t)}),t.attr("data-reserved",i)},updateMetaKeyToUnique:function(e){var s,n=e,a=t.attr("data-reserved"),r=e.substring(0,e.lastIndexOf("_")),o=e.substring(e.lastIndexOf("_")+1,e.length);if(""===e)return i.resetReservedMetaKeys(),"";if(-1<(a=a.split(",")).indexOf(e))for(s=isNaN(o)?0:parseInt(o),isNaN(o)||(e=r||o),n=e+"_"+ ++s;-1<a.indexOf(n);)n=e+"_"+ ++s;return a.push(n),t.attr("data-reserved",a.join(",")),n},setEmailTag:function(){var t=e(this).closest(".give-form-fields-holder");e(".give-form-field-email-tag-field",t).val("{meta_donation_"+e(this).val()+"}")},collapseEditFields:function(t){t.preventDefault(),e("ul#give-form-fields-editor").children("li").find(".collapse").collapse("toggle")},validateOnPublish:function(i){var s=[],n=[];if((13===i.keyCode||"click"===i.type)&&0<t.length){var a=e("#give-form-fields-editor").find(".js-ffm-meta-key").map(function(){return e(this).val()}).sort().toArray();if(e.each(a,function(t,i){-1===e.inArray(i,n)?n.push(i):s.push(i)}),0<s.length)return alert(give_ffm_formbuilder.general_key_error),i.preventDefault(),!1}},showHideFFMFields:function(){this.checked?e(this).closest(".hide-field-label").attr("title",give_ffm_formbuilder.hidden_field_enable):e(this).closest(".hide-field-label").attr("title",give_ffm_formbuilder.hidden_field_disable)},duplicateField:function(t){var i=t.currentTarget.id.split("_")[3],s=e(this).parents("li"),n=e("ul#give-form-fields-editor"),a=n.find("li").length+1,r=s.clone();r.find("input").each(function(){if(this.hasAttribute("name")&&e(this).attr("name",this.name.replace(/\d+/,a)),e(this).hasClass("js-ffm-meta-key")){if(e(this).removeAttr("readonly"),e(this).next("a.give-icon-locked-anchor").remove(),""===e(this).attr("value"))return void e(this).attr("value",a);e(this).attr("value",e(this).attr("value")+"_"+a)}if(e(this).hasClass("give-form-field-email-tag-field")){var t=e(this).parents("li").find(".js-ffm-meta-key").attr("value");e(this).attr("value","{meta_donation_"+t+"}")}}),r.find("select").each(function(t){this.hasAttribute("name")&&e(this).attr("name",this.name.replace(/\d+/,a)),e(this).val(s.find("select").eq(t).val())}),r.find("textarea").each(function(){this.hasAttribute("name")&&e(this).attr("name",this.name.replace(/\d+/,a))}),r.find("a").each(function(){this.hasAttribute("aria-controls")&&e(this).attr("aria-controls",e(this).attr("aria-controls").replace(/\d+/,a)),this.hasAttribute("id")&&e(this).attr("id",this.id.replace(/\d+/,a)),this.hasAttribute("href")&&e(this).attr("href",e(this).attr("href").replace(/\d+/,a)),this.hasAttribute("data-field-id")&&e(this).attr("data-field-id",e(this).attr("data-field-id").replace(/\d+/,a))}),r.find("div#form-field-item-settings-"+i).attr("id",e("div#form-field-item-settings-"+i,r).attr("id").replace(/\d+/,a)),r.appendTo(n)}};e(function(){giveFFMDateField.setDatePicker(),i.init()})}(jQuery),jQuery(function(e){({init:function(){e("body").on("click","span.ffm-clone-field",this.cloneField),e("body").on("click","span.ffm-remove-field",this.removeField)},cloneField:function(t){t.preventDefault();var i=e(this).closest("tr"),s=i.clone();s.find("input").val(""),s.find(":checked").attr("checked",""),i.after(s)},removeField:function(){var t=e(this).closest("tr");1<t.siblings().andSelf().length&&t.remove()}}).init()});